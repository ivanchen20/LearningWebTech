<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>台語源流</title>
    <link href="https://love850together.blogspot.com/favicon.ico" rel="icon" type="image/x-icon">
    <!--
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
    <link rel="stylesheet" href="asset/css/bootstrap.min.css">
    <script src="asset/js/jquery.min.js"></script>
    <script src="asset/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="asset/css/main.css">
    <link rel="stylesheet" type="text/css" href="asset/css/font.css">
    <!-- environment -->
    <style>
        #mySVG {
            position: fixed;
            top: 0%;
            width: 40vw;
            height: 100vh;
        }

        #jiang-hue {
            min-height: 2000px;
        }

        section {
            min-height: 4000px;
        }
        

        #title {
            /*            font-size: 200px;*/
            text-align: center;
        }
        
        div.buff{
            height: 25vh;
        }
        
    </style>
</head>

<body>
    <nav>
        <audio autoplay>
            <source src="https://ivanchen20.github.io/LearningWebTech/asset/bgm/b.mp3" type="audio/mpeg">
            Audio NOT Supported.
        </audio>
        <div class="vinyl"></div>
        <ul class="navlist">
            <li style="transform: rotate(-5deg);">淵流</li>
            <li>今昔</li>
            <li style="transform: rotate(5deg);">歌手</li>
        </ul>
    </nav>

    <div id="time_line"></div>

    <section id="start">
        <div class="full">
            <div id="cover">
                <t id="title" class="shining">台語淵流與發展</t>
                <svg id="twrap" height="76vh" width="76vw" xmlns="http://www.w3.org/2000/svg">
                    <rect id="trect" height="100%" width="100%" />
                </svg>
            </div>
            <div id="indicator_scroll">
                <!--linkage behavior-->
                <a href="#history">
                    <svg xmlns="http://www.w3.org/2000/svg" width="88" height="88" viewBox="0 0 44 44" preserveAspectRatio="xMinYMin meet" stroke="rgb(255,223,0)">
                        <g fill="none" fill-rule="evenodd" stroke-width="1">
                            <circle cx="22" cy="22" r="19.6468">
                                <animate attributeName="r" begin="0s" dur="3.6s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" />
                                <animate attributeName="stroke-opacity" begin="0s" dur="3.6s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" />
                            </circle>
                            <circle cx="22" cy="22" r="13.5288">
                                <animate attributeName="r" begin="-2.7s" dur="5.4s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" />
                                <animate attributeName="stroke-opacity" begin="-2.7s" dur="5.4s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" />
                            </circle>
                        </g>
                    </svg>
                </a>
                <div id="indicator"></div>
            </div>
        </div>
    </section>
    <section id="history">
        <!-- subtitle -->
        <div class="buff">
            <div id="subtitle" class="subt"></div>
        </div>
        <div class="row">
            <div class="col-xs-1 col-sm-2"></div>
            <div class="col-xs-10 col-sm-6">
                <p><strong>故事主要內容區塊</strong></p>
                <p>測試文字：設計的訣竅：用戶體驗、業界做法（評估、分析）；面試產品經理，所問的問題（背後的邏輯？）Taipei 101 改版設計，找出3個可優化之處。問出經驗：專業的三個角度（用戶、數據、設計）不要直接跳到那個題目去做！！直接回答3個就慘了。用戶通常說他想做什麼，但她不太理解其實。</p>
            </div>
            <div class="col-sm-1"></div>
            <!--line with waves, or some decoration about music-->
            <div class="col-xs-1 col-sm-3">

            </div>
        </div>
    </section>
    <section id="compare">

    </section>

    <!--to be added-->
    <section id="singer">
        <article></article>
    </section>

    <!--    <section id="ending">-->
    <div class="full">
        <div id="cover" class="text-center">
            <div class="col-sm-1"></div>
            <div id="report" class="col-xs-12 col-sm-4 text-right">
                <p class="shining">高庭萱</p>
                <p class="shining" style=" padding-right: 1vw;">陳世運</p>
                <p class="shining">許毅全</p>
            </div>
            <div class="col-sm-2">
                <a href="#history">
                    <svg xmlns="http://www.w3.org/2000/svg" width="88" height="88" viewBox="0 0 44 44" preserveAspectRatio="xMinYMin meet" stroke="rgb(255,223,0)">
                        <g fill="none" fill-rule="evenodd" stroke-width="1">
                            <circle cx="22" cy="22" r="19.6468">
                                <animate attributeName="r" begin="0s" dur="3.6s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" />
                                <animate attributeName="stroke-opacity" begin="0s" dur="3.6s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" />
                            </circle>
                            <circle cx="22" cy="22" r="13.5288">
                                <animate attributeName="r" begin="-2.7s" dur="5.4s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite" />
                                <animate attributeName="stroke-opacity" begin="-2.7s" dur="5.4s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite" />
                            </circle>
                        </g>
                    </svg>
                </a>
            </div>
            <div id="report" class="col-xs-12 col-sm-4 text-left">
                <p class="shining">整理報導</p>
            </div>
            <div class="col-sm-1"></div>
        </div>
    </div>
    <!--    </section>-->

    <!-- for song playing effect -->
    <footer id="frame">
        <div class="frame-top"></div>
        <div class="frame-down"></div>
    </footer>



    <!--my JS scroll drawing-->
    <script>
        // Get the id of the <path> element and the length of <path>
        var triangle = document.getElementById("triangle");
        var length = triangle.getTotalLength();

        // The start position of the drawing
        triangle.style.strokeDasharray = length;

        // Hide the triangle by offsetting dash. Remove this line to show the triangle before scroll draw
        triangle.style.strokeDashoffset = length;

        //
        var face = document.getElementById("face");
        var length2 = face.getTotalLength();
        face.style.strokeDasharray = length2;
        face.style.strokeDashoffset = length2;
        //

        var others = document.getElementById("others");

        // Find scroll percentage on scroll (using cross-browser properties), and offset dash same amount as percentage scrolled
        window.addEventListener("scroll", showSinger);

        function showSinger() {
            //            var scrollpercent = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);
            var jtop = $("#jiang-hue").offset().top;
            var jheight = $("#jiang-hue").height();

            var scrolled = $(window).scrollTop();
            var scrollpercent = (scrolled - jtop) / jheight;
            console.log(scrollpercent);

            var draw = length * scrollpercent;
            var draw2 = length2 * scrollpercent;

            // Reverse the drawing (when scrolling upwards)
            triangle.style.strokeDashoffset = length - draw;
            face.style.strokeDashoffset = length2 - draw2;

            if (scrollpercent > 0.5) {
                triangle.style.fill = "#0F0F0D"; // this 下的fill
                others.style.opacity = 0.33;
                if (scrollpercent > 0.75) {
                    face.style.fill = "#C9A492";
                    others.style.opacity = 0.66;
                }
                if (scrollpercent > 0.9) {
                    others.style.opacity = 1;
                }
            } else if (scrollpercent < 0) {
                triangle.style.strokeWidth = 0;
                face.style.strokeWidth = 0;
            } else {
                triangle.style.strokeWidth = 2;
                face.style.strokeWidth = 0.2;
                triangle.style.fill = "none";
                face.style.fill = "none";
                others.style.opacity = 0;
                if (scrollpercent > 0.25) {
                    others.style.opacity = 0.25;
                }
            }
        }
    </script>
    <script src="asset/js/main.js"></script>
</body>

</html>
